<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v27.1.0/dist/font-face.css" rel="stylesheet" type="text/css" />

<style>
.right-to-left {
    text-align: right;
    direction: rtl;
}
.left-to-right {
    text-align: left;
    direction: ltr;
}
.persian-font {
    font-family: 'Vazir';
}

img {
  max-width:100% !important;
}

</style>

<p class="persian-font right-to-left">

## فهرست

## مقدمه
در این راهنما به موارد مورد نیاز برای استفاده از نمو از نگاه کاربر پرداخته شده و موارد مربوط به نگهداری سرویس در آن نیامده است.

## ماموریت نمو
ماموریت اصلی نمو، پایش فرایند توسعه‌ی یک محصول و نمایش میزان تطابق آن با یک پلکان کیفیت توسعه است. به بیان دیگر، نمو وظیفه‌ی نمایش وضعیت کیفی توسعه‌ی محصول را بر عهده دارد.  
در ادبیات نمو، به محصولات مورد بررسی، پروژه (Project) گفته می‌شود. در نمو می‌توان به تعداد دلخواه پروژه ایجاد کرد.

## مدل بلوغ کیفیت
همانطور که گفته شد، اساس کار نمو پایش وضعیت توسعه‌ی محصول و مطابقت آن با یک پلکان کیفی است. در این پلکان کیفی، که در ادبیات نمو با نام _مدل بلوغ_ یا _Maturity Model_ شناخته می‌شود، ابعاد مختلف کیفیت در قالب آیتم‌هایی تعریف می‌شوند. این آیتم‌ها در کنار هم می‌توانند سطح‌های مختلف کیفیت را تشکیل دهند.  
به عنوان مثال می‌توان در نمو یک مدل کیفی به این صورت تعریف کرد که اگر پوشش تست پروژه‌ای حداقل ۴۰٪ باشد و پروژه حداقل ماهی یک‌بار دیپلوی شود، این پروژه سطح اول کیفیت را در این مدل دارا خواهد بود.
[مدل بلوغ کوالیتیک](https://maturity.qualitic.ir) نمونه‌ی بسیار خوبی از چنین مدل کیفی‌ای می‌باشد.  
برای آشنایی با نحوه‌ی تعریف یک مدل بلوغ در نمو، به قسمت [ایجاد مدل بلوغ](#ایجاد-مدل-بلوغ) مراجعه کنید.

### مشخصه‌های یک آیتم در مدل بلوغ

هر آیتم ارزیابی در مدل بلوغ دارای مشخصه‌هایی می باشد که از طریق این مشخصه‌ها ارزیابی آن آیتم صورت می‌گیرد. این مشخصه‌ها عبارتند از:
<div id="definition-checking-period">

- **Checking period:** یک دوره‌ی زمانی که ارزیابی یک آیتم مدل بلوغ بر اساس داده‌های موجود در آن دوره‌ی زمانی صورت می‌گیرد. به عنوان مثال اگر این مقدار برابر ۶۰ روز باشد، ارزیابی بر اساس داده‌های ۶۰ روز گذشته انجام خواهد شد.
</div>

- **Validity Period:** دوره‌ای که ارزیابی انجام شده برای یک آیتم معتبر خواهد بود. در صورتی که بیش از این زمان از آخرین ارزیابی گذشته باشد، حتی اگر آیتمی در ارزیابی موفق شده باشد لازم است که مجددا ارزیابی شود.

- **Expected Value:** حداقل یا حداکثر مقداری که یک آیتم باید برای ارزیابی موفق کسب کند. به عنوان مثال، عدد ۴۰ در یک آیتم مربوط به پوشش تست، بیانگر این است که میزان پوشش تست حداقل باید ۴۰٪ باشد.  
    این مقدار ممکن است برای برخی آیتم‌های مدل بلوغ بی‌معنی بوده و در نتیجه خالی گذاشته شود.

- **Current Value:** مقداری که در حال حاضر برای یک آیتم اندازه‌گیری شده است. در هنگام ارزیابی این مشخصه با Expected value مقایسه می‌شود.

### ارزیابی پروژه
هر پروژه در نمو با یک مدل بلوغ کیفی در ارتباط است که وضعیت کیفی پروژه با این مدل ارزیابی می‌شود.
با توجه به انواع آیتم‌های مدل بلوغ (که در بخش [ایجاد مدل بلوغ](#ایجاد-مدل-بلوغ) معرفی شده‌اند) ارزیابی برخی انواع آیتم‌ها توسط نمو به صورت خودکار انجام می‌شود. مثلاً آیتم‌هایی که در رابطه با حداقل پوشش تست (Test Coverage)  درصدی تعیین می‌کنند را نمو به طور خودکار با توجه به مقادیری که به آن گزارش شده ارزیابی می‌کند. (برای آشنایی با نحوه‌ی گزارش داده به نمو به قسمت [ارسال داده به نمو](#ارسال-داده-به-نمو) مراجعه نمایید.)  
اما علاوه بر آیتم‌هایی که نوع خاصی دارند، می‌توان آیتم‌های عمومی در تعریف مدل بلوغ ارائه کرد. ارزیابی این آیتم‌ها طبیعتاً به طور خودکار قابل انجام نبوده و وضعیت آن‌ها به طور دستی در نمو قابل ثبت است.  
انواع آیتم‌های مدل بلوغ و نحوه‌ی ارزیابی و احراز آن‌ها به تفصیل در قسمت [ایجاد مدل بلوغ](#ایجاد-مدل-بلوغ) آمده است.

## داده‌های مورد نیاز نمو برای پایش محصول

در روند توسعه محصول نیاز است گزارش‌هایی برای نمو ارسال شود تا پایش کیفیت محصول در ابعاد دیگری نیز صورت بگیرد. این گزارش ها شامل گزارش‌های تغییرات اعمال شده در کد، گزارش استقرارهای صورت گرفته، گزارش میزان پوشش تست و همچنین گزارش تغییر وضعیت‌های سرویس است.
<div id="definition-changelist">

- **Change List:** لیست تغییر(commit) های انجام شده در کد
</div>

- **Deployment:** گزارش‌ها در مورد اینکه یک تغییر یا مجموعه ای از تغییرات در چه زمانی استقرار پیدا کرده و به کار گرفته شده‌اند و همچنین این استقرار چه نتیجه‌ای داشته است.

<div id="definition-service-status">

- **Service Status:** گزارش‌های مربوط به وضعیت کارکرد عملکردهای اصلی سیستم سمت کاربران آن. این گزارش ها به دو صورت up و down می باشد.
    - **بالا(Up) بودن سرویس**: کاربر از تمام عملکردهای اصلی سرویس می‌تواند استفاده کند.
    - **پایین(Down) بودن سرویس**: کاربر از حداقل یک عملکرد اصلی سرویس نمی‌تواند استفاده کند.
    پایین آمدن سرویس می‌تواند جنبه‌های مختلفی داشته باشد، برای مثال کندی در پاسخ‌گویی سرویس ممکن است به حدی باشد که سرویس عملا قابل استفاده نباشد. در تعبیری دیگر، هرگونه تغییر که محصول‌ را از ناحیه‌ی پذیرش کاربران خود (User Acceptance Criteria) خارج کند، منجر به پایین آمدن سرویس شده است.

    **عملکرد اصلی**: لیست قابلیت‌های اصلی سرویس ارائه شده سمت کاربر. این موارد در هر محصول متفاوت است و بهتر است توسط PM محصول تعریف شود.

    دقت شود وضعیت سرویس با وضعیت مثلا سرورهای داخلی تشکیل دهنده سرویس متفاوت است. مثال:
    - پایین آمدن یک datanode در Hadoop به صورتی که data loss رخ نداده و کاربر را تحت تاثیر قرار ندهد، وضعیت را down نمی‌کند.
    - از دست دادن یک سرور در loadbalancer به صورتی که کاربر تفاوتی حس نکند، وضعیت را down نمی‌کند.
</div>

- **Coverage Report:** میزان پوشش تست (Test Coverage) محصول

برای ثبت داده‌های بالا می‌توان از API نمو استفاده کرد. برای اطلاعات بیشتر به قسمت [API نمو](#api-نمو) مراجعه نمایید.  
همچنین همه‌ی موارد بالا (بجز Coverage Report) می‌توانند از طریق رابط کاربری نمو نیز گزارش شوند. نحوه‌ی انجام این کار در قسمت [مدیریت گزارش‌های مرتبط با محصول](#مدیریت-گزارشهای-مرتبط-با-محصول) آمده است.

## نقش‌های کاربری
در تعامل کاربران با نمو به طور عمده سه نقش وجود دارد که در ادامه آمده است. (برای آشنایی با نحوه‌ی تعیین نقش‌ها نیز می‌توانید به قسمت [تغییر دسترسی کاربران](#تغییر-دسترسی-کاربران) مراجعه کنید.)

### مدیر نمو
مدیر یا Admin نمو، بالاترین سطح دسترسی در نمو را داراست و علاوه بر دسترسی به کلیه‌ی پروژه‌های تعریف شده در نمو، به پنل مدیریت نمو نیز دسترسی دارد. این پنل که از آدرس `/api/admin/` قابل دسترسی است، به کاربر امکان تغییر مستقیم در کلیه‌ی داده‌های مربوط به نمو را می‌دهد. به عنوان مثال، ایجاد پروژه‌ی جدید یا تعیین نقش کاربران در این پنل قابل انجام است. توضیحات بیشتر در قسمت [پنل مدیریت نمو](#پنل-مدیریت-نمو) آمده است.

### عضو کمیته‌ی کیفیت
در نمو این امکان فراهم شده است تا بدون دسترسی مدیریتی به پنل ادمین بتوان به همه‌ی پروژه‌های تعریف شده در نمو از طریق رابط کاربری آن دسترسی داشت. این نقش در ادبیات نمو با عنوان «عضو کمیته‌ی کیفیت» و ذیل گروهی با نام `Quality Committee` در پنل مدیریت تعریف شده است.

### کاربر عادی
سایر کاربران نمو که هیچکدام از نقش‌های بالا را ندارند، می‌توانند به صورت موردی دسترسی به هریک از پروژه‌ها را داشته باشند.  

#### نقش کاربران عادی در یک پروژه
کاربران عادی در ارتباط با یک پروژه در نمو می‌توانند یکی از نقش‌های زیر را داشته باشند:  
1. توسعه‌دهنده یا Developer
2. راهبر تیم یا Team Leader
3. مدیر محصول یا PM

در حال حاضر، تنها تفاوت مدیر محصول با دو نقش دیگر این است که مدیر محصول می‌تواند یک موعد زمانی ([هدف](#مدیریت-اهداف)) برای دستیابی به آیتم‌های کیفی تعریف کند. سایر نقش‌ها تنها می‌توانند اهداف تعیین شده را مشاهده کنند. به عبارت دیگر، در حال حاضر دسترسی‌های نقش _توسعه‌دهنده_ با _راهبر تیم_ برابر بوده و فعلا تنها تفاوت آن‌ها در نامشان است.  
لازم به ذکر است که نقش کاربران، خاص هر پروژه است؛ به عنوان مثال، یک کاربر می‌تواند در یک پروژه نقش توسعه‌دهنده و در پروژه‌ی دیگر نقش مدیرمحصول را داشته باشد.


## راهنمای رابط کاربری نمو

### درخواست ارزیابی یک آیتم

#### روش ثبت درخواست ارزیابی یک آیتم

در نمو آیتم‌های مدل بلوغ در دو دسته ارزیابی می‌شوند. بعضی از آیتم‌ها به صورت خودکار ارزیابی می‌شوند به طوری که داده‌های مربوط به آنان توسط نمو از طریق api یا ابزارهای یکپارچه‌سازی شده دریافت شده و به صورت خودکار در حال ارزیابی هستند. گروهی دیگر از آیتم ها نیاز دارند تا درخواست ارزیابی آن‌ها توسط کاربر در داشبورد ثبت شود و روند ارزیابی فعال گردد. مراحل ثبت درخواست ارزیابی عبارتند از:

##### ۱. انتخاب آیتم مورد نظر

ابتدا وارد صفحه Maturity Model شده و آیتمی را که قصد ثبت درخواست ارزیابی برای آن را دارید کلیک کنید.

![انتخاب آیتم](/dist/img/manual/1-2-1-1.png)

##### ۲. ورود به صفحه مدیریت آیتم

در مودال باز شده روی دکمه View more کلیک کنید تا به صفحه مدیریت آیتم مورد نظر هدایت شوید.

![مودال آیتم](/dist/img/manual/1-2-1-2.png)

##### ۳. ثبت درخواست ارزیابی آیتم به همراه توضیحات

پس از ورود به صفحه‌ی مدیریت آیتم، در قسمت Request to evaluate item دلیل اینکه این آیتم اکنون قابل ارزیابی است را توضیح داده و درخواست را ثبت کنید.

![ثبت درخواست ارزیابی](/dist/img/manual/1-2-1-3.png)

در صورت موفق بودن ثبت درخواست ارزیابی، یک پیام موفقیت به شما نمایش داده خواهد شد.

#### روش ویرایش درخواست ارزیابی یک آیتم
در صورتی که توضیحات درخواست ارزیابی شما اشکالی داشته باشد شما می‌توانید آن را ویرایش کنید. برای این کار باید کارهای زیر را انجام دهید.
##### ۱. ورود به صفحه مدیریت آیتم
ابتدا همانند مرحله 1 و 2 درخواست ارزیابی وارد صفحه‌ی مدیریت یک آیتم شوید.
##### ۲. ویرایش درخواست ارزیابی آیتم
پس از ورود به صفحه‌ی مدیریت آیتم، می‌توانید در قسمت Current evaluation request توضیحات درخواست فعلی خود را مشاهده کنید. در صورت نیاز توضیحات را تغییر دهید و سپس روی دکمه submit کلیک کنید تا تغییرات ثبت شوند.

![ویرایش درخواست ارزیابی](/dist/img/manual/1-3-2-1.png)

#### روش حذف درخواست ارزیابی آیتم
در صورتی که متوجه شدید که درخواست ارزیابی شما باید متوقف شود می‌توانید درخواست خود را حذف کنید. برای این کار باید مراحل زیر را انجام دهید:
##### ۱. ورود به صفحه مدیریت آیتم
ابتدا همانند مرحله 1 و 2 درخواست ارزیابی وارد صفحه‌ی مدیریت یک آیتم شوید.
##### ۲. حذف درخواست ارزیابی آیتم
در صفحه مدیریت آیتم در قسمت Current evaluation request روی دکمه حذف کلیک کنید. پس از آن یک دیالوگ جهت تایید حذف درخواست ارزیابی نمایش داده می‌شود که در صورتی که از حذف آن  مطمئن هستید باید مجددا دکمه Delete را در دیالوگ کلیک کنید تا درخواست شما حذف شود.

![حذف درخواست ارزیابی](/dist/img/manual/1-4-2-1.png)

### درخواست فعال/غیرفعال کردن آیتم
#### روش ثبت درخواست فعال/غیرفعال کردن یک آیتم

ممکن است محصول شما در حال حاضر نیازی به بعضی از آیتم های مدل بلوغ نداشته باشد و لازم است که این آیتم غیر فعال شود یا بالعکس. در این صورت باید مراحل زیر را طی کنید:

##### ۱. ورود به صفحه مدیریت آیتم

ابتدا همانند مرحله 1 و 2 درخواست ارزیابی وارد صفحه‌ی مدیریت یک آیتم شوید.

##### ۲. ثبت درخواست فعال/غیر فعال کردن آیتم

پس از ورود به صفحه‌ی مدیریت آیتم، در قسمت Request to disable(enable) item دلیل اینکه چرا این آیتم باید فعال/غیرفعال شود را توضیح داده و درخواست را ثبت کنید.

![ثبت درخواست حذف](/dist/img/manual/1-5-2-1.png)

در صورت موفق بودن ثبت درخواست فعال/غیرفعال کردن، یک پیام موفقیت به شما نمایش داده خواهد شد.

#### روش ویرایش درخواست فعال/غیر فعال کردن یک آیتم
در صورتی که توضیحات درخواست فعال/غیرفعال کردن ارسال شده توسط شما اشکالی داشته باشد شما می‌توانید آن را ویرایش کنید. برای این کار باید مراحل زیر را انجام دهید.
##### ۱. ورود به صفحه مدیریت آیتم
ابتدا همانند مرحله ۱ و ۲ درخواست ارزیابی وارد صفحه‌ی مدیریت یک آیتم شوید.
##### ۲. ویرایش درخواست فعال/غیر فعال کردن یک آیتم
پس از ورود به صفحه‌ی مدیریت آیتم، می‌توانید در قسمت Current request to disable/enable item توضیحات درخواست فعلی خود را مشاهده کنید. در صورت نیاز توضیحات را تغییر دهید و سپس روی دکمه submit کلیک کنید تا تغییرات ثبت شوند.

![ویرایش درخواست فعال/غیرفعال‌سازی](/dist/img/manual/1-6-2-1.png)

#### روش حذف درخواست فعال/غیر فعال کردن یک آیتم
در صورتی که متوجه شدید که درخواست فعال/غیرفعال کردن شما باید متوقف شود می‌توانید درخواست خود را حذف کنید. برای این کار باید مراحل زیر را انجام دهید:
##### ۱. ورود به صفحه مدیریت آیتم
ابتدا همانند مرحله ۱ و ۲ درخواست ارزیابی وارد صفحه‌ی مدیریت یک آیتم شوید.
##### ۲. حذف درخواست ارزیابی آیتم
در صفحه مدیریت آیتم در قسمت Current request to enable/disable item روی دکمه حذف کلیک کنید. پس از آن یک دیالوگ جهت تایید حذف درخواست نمایش داده می‌شود که در صورتی که از حذف آن  مطمئن هستید باید مجددا دکمه Delete را در دیالوگ کلیک کنید تا درخواست شما حذف شود.

![حذف درخواست فعال/غیرفعال‌سازی](/dist/img/manual/1-7-2-1.png)

### مدیریت اهداف

در صورتی که قصد دارید تا تاریخ مشخصی تعدادی از آیتم های مدل بلوغ را پیاده‌سازی کنید، داشبورد نمو این امکان را فراهم کرده است تا با تعریف هدف در ذیل یک محصول به عنوان یک قابلیت کاربردی شما در این زمینه کمک کند.

#### ایجاد یک هدف جدید

##### ۱. ورود به صفحه ایجاد هدف

از طریق منوی کناری صفحه‌ی Goals را انتخاب کرده و سپس روی دکمه New Goal کلیک کنید.

![صفحه هدف جدید](/dist/img/manual/2-1-1-1.png)

##### ۲. تعیین تاریخ سر رسید هدف

در صفحه‌ی ایجاد هدف، تاریخی که آن را برای رسیدن به هدف موردنظر خود تعیین کرده‌اید را وارد کنید.

![تعیین تاریخ هدف](/dist/img/manual/2-1-2-1.png)

##### ۳. انتخاب آیتم‌های هدف

پس از تعیین تاریخ، آیتم‌هایی که رسیدن به آن ها را در تاریخ تعیین شده مد نظر دارید انتخاب کنید. می‌توان یک یا چند آیتم را بنابر نیاز انتخاب کرد.

![انتخاب آیتم های هدف](/dist/img/manual/2-1-3-1.png)

پس از تعیین آیتم‌ها بر روی دکمه‌ی Submit کلیک کنید تا هدف ساخته شود.

![ثبت هدف](/dist/img/manual/2-1-3-2.png)

در صورت موفق بودن عملیات ایجاد هدف جدید، پیغام موفقیت به شما نمایش داده خواهد شد.

#### ویرایش یک هدف

در صورت نیاز به تغییراتی از جمله تغییر تاریخ هدف یا تغییر آیتم‌های یک هدف، می‌توانید توسط داشبورد نمو این کار را انجام دهید.

##### ۱. ورود به صفحه‌ی مدیریت هدف

از طریق منوی کناری صفحه‌ی Goals را انتخاب کرده و سپس روی یکی از اهداف موجود در لیست کلیک کنید.

![انتخاب هدف](/dist/img/manual/2-2-1-1.png)

##### ۲. ورود به صفحه‌ی ویرایش هدف

در صفحه‌ی مدیریت هدف بر روی دکمه Edit کلیک کنید تا به صفحه ویرایش هدف وارد شوید.

![ویرایش هدف](/dist/img/manual/2-2-2-1.png)

##### ۳. اعمال تغییرات

در صفحه‌ی ویرایش هدف تغییرات مد نظر خود را اعمال کرده و در انتها روی دکمه Submit کلیک کنید تا تغییرات اعمال شوند.

#### حذف یک هدف

در صورت اینکه یک هدف از اولویت های تیم توسعه محصول کنار گذاشته شود می‌توان آن هدف را از طریق داشبورد نمو حذف کرد. مراحل این کار به این صورت است:

##### ۱. ورود به صفحه‌ی مدیریت هدف

از طریق منوی کناری صفحه‌ی Goals را انتخاب کرده و سپس روی یکی از اهداف موجود در لیست کلیک کنید.

![انتخاب هدف برای حذف](/dist/img/manual/2-3-1-1.png)

##### ۲. حذف هدف

در صفحه‌ی مدیریت هدف روی دکمه‌ی Delete کلیک کنید. پس از آن یک دیالوگ جهت تایید حذف هدف نمایش داده می‌شود که در صورتی که از حذف هدف مطمئن هستید باید مجددا دکمه Delete را در دیالوگ کلیک کنید تا هدف حذف شود.

![حذف هدف](/dist/img/manual/2-3-2-1.png)

![تایید حذف هدف](/dist/img/manual/2-3-2-2.png)

### مدیریت گزارش‌های مرتبط با محصول

#### اضافه کردن یک گزارش
ممکن است در برخی اوقات مواردی از گزارش‌ها باشند که امکان ارسال آن‌ها از طریق API نمو و به صورت خودکار امکان‌پذیر نباشد. لذا در رابط کاربری نمو این امکان فراهم شده است تا بتوان یک گزارش را به صورت دستی اضافه کرد. مراحل این کار به صورت زیر است:

##### ۱. ورود به صفحه ایجاد گزارش

از منوی سمت چپ Reports را انتخاب کنید تا وارد صفحه گزارش‌ها شوید. سپس Environment خود را از قسمت بالای صفحه انتخاب کرده سپس نوع گزارش موردنظر خود را انتخاب کنید. در انتها بر روی دکمه‌ی New Report کلیک کنید تا به صفحه ایجاد گزارش هدایت شوید.

![گزارش جدید](/dist/img/manual/3-1-1-1.png)

##### ۲. ثبت اطلاعات گزارش

تاریخ و اطلاعات مربوط به گزارش را وارد کرده و در انتها روی دکمه‌ی Save کلیک کنید.توجه داشته باشید که اطلاعات مربوط به هر نوع گزارش با انواع دیگر متفاوت می‌باشد.

![ثبت گزارش جدید](/dist/img/manual/3-1-2-1.png)

#### ویرایش یک گزارش

ممکن است به دلایل مختلفی نیاز باشد تا یک گزارش ویرایش شود. مراحل این کار به صورت زیر است:

##### ۱. ورود به صفحه ویرایش گزارش

از منوی سمت چپ Reports را انتخاب کنید تا وارد صفحه گزارش‌ها شوید. سپس Environment خود را از قسمت بالای صفحه انتخاب کرده سپس نوع گزارش موردنظر خود را انتخاب کنید. حال لازم است تا دکمه‌ی ویرایش گزارش مورد نظر را کلیک کنید.

![ویرایش گزارش](/dist/img/manual/3-2-1-1.png)

##### ۲. ویرایش گزارش و ثبت اطلاعات

اطلاعات مورد نظر خود را تغییر داده و در انتها روی دکمه‌ی Save کلیک کنید. توجه داشته باشید که اطلاعات مربوط به هر نوع گزارش با انواع دیگر متفاوت می‌باشد.

![ثبت ویرایش گزارش](/dist/img/manual/3-2-2-1.png)

#### حذف یک گزارش

ممکن است نیاز باشد تا یک گزارش به دلایل مختلفی حذف شود. مراحل این کار به صورت زیر است:

##### ۱. ورود به صفحه گزارش ها

از منوی سمت چپ Reports را انتخاب کنید تا وارد صفحه گزارش ها شوید. سپس Environment خود را از قسمت بالای صفحه انتخاب کرده سپس نوع گزارش موردنظر خود را انتخاب کنید.

![صفحه گزارش ها](/dist/img/manual/3-3-1-1.png)

##### ۲. حذف گزارش

از بین گزارش‌ها گزارش موردنظر خود را یافته و روی دکمه‌ی حذف کلیک کنید. در صورتی که از حذف گزارش اطمینان دارید در مودال باز شده دکمه‌ی Delete را کلیک کنید.

![حذف گزارش](/dist/img/manual/3-3-2-1.png)

![تایید حذف گزارش](/dist/img/manual/3-3-2-2.png)

### نمودارهای عملیات توسعه محصول

با استفاده از گزارش‌های دریافت شده، داشبورد نمو نمودارهای مختلفی جهت پایش متریک های مختلف DevOps برای تیم توسعه محصول و همچنین تسهیل فرآیند کیفیت سنجی محصول در اختیار قرار می‌دهد. داشبورد نمو چهار متریک را در این نمودارها به نمایش می‌گذارد که عبارتند از:

- **Lead time:** میانگین مدت زمان بین کامیت شدن کد تا اجرای موفق آن در محیط پروداکشن
- **Deployment frequency:** سازمان هر چند وقت یک بار کد را deploy می‌کند.
- **Change Failure Rate:** درصد تغییرات انجام گرفته در production که منجر به از دسترس خارج شدن یا نقص سرویس می‌شود و نیازمند یک اقدام فوری برای رفع مشکل است.
- **Time to Restore:** مدت زمانی که طول می‌کشد تا سرویس پس از یک حادثه بازیابی شود.

#### تنظیمات نمودارها

در صورت ورود به صفحه‌ی Graphs در سمت چپ صفحه قسمتی برای تنظیمات نمودارهای نمایش داده شده در صفحه وجود دارد. در بخش اول شما می‌توانید محیط توسعه مورد نظر خود را انتخاب کنید. همچنین امکان انتخاب بازه‌ی زمانی شروع و پایانبرای دریافت نمودارها وجود دارد.
همچنین جهت اعمال مفهوم checking period امکان تعیین این مقدار برای نمودارها وجود دارد. هر مقداری که در هر روز در نمودارها مشاهده می‌شود، با در نظر گرفتن مقدار checking period می‌باشد. به طور مثال اگر مقدار checking period برابر 5 باشد مقدار نمودار در هر روز با در نظر گرفتن گزارش‌های دریافتی از 5 روز قبل تا آن روز محاسبه می‌شود.

![تنظمیات نمودار](/dist/img/manual/4-1-0-1.png)

### تنظیمات کاربری
از قسمت [User Settings](/user/settings) می‌توانید تمام تنظیمات را مشاهده کنید.

#### تنظیم اطلاع‌رسانی‌ها
در این بخش می‌توانید اطلاعیه‌های مربوط به هر پروژه را به صورت مجزا فعال/غیرفعال کنید.


## API نمو
اگرچه مستندات مربوط به API نمو به تفصیل در قسمت [API Documentation](/api/v1/documentation/swagger/) آمده است، اما در این قسمت مثال‌هایی از چند اندپوینت پرکاربرد ارائه می‌شود.  
**نکته:** مقدار سرآیند `NEMO-PROJECT-TOKEN` که در مثال‌ها آمده است، از قسمت `Integration` در داشبورد پروژه قابل مشاهده می‌باشد.

### گزارش مرج شدن یک کامیت در شاخه اصلی در گیت‌لب
با فراخوانی این اندپوینت، آیدی مرج‌ریکوئست مربوط به کامیت ارسالی به طور خودکار کشف و به عنوان آیدی changelist در نمو ثبت می‌شود. با این کار یافتن مرج‌ریکوست از روی گزارش‌های نمو راحت‌تر خواهد بود.

<div class="left-to-right">

```bash
wget
  --header "Content-Type: application/json"
  --header "NEMO-PROJECT-TOKEN: abcd"
  --post-data '{"commit_hash": "12a6675d5a9bc69e82f4f563651bedc40955c951"}'
  http://nemo/api/v1/changelist-reporter/gitlab-merge-request/
```
</div>

### گزارش یک کامیت جدید در شاخه‌ی اصلی مخزن کد (به صورت عمومی)
<div class="left-to-right">

```bash
wget
  --header "Content-Type: application/json"
  --header "NEMO-PROJECT-TOKEN: abcd"
  --post-data '{"commit_hash": "12a6675d5a9bc69e82f4f563651bedc40955c951", "change_list_id": "The pull request ID", "title": "Title of the change"}'
  http://nemo/api/v1/devops-metrics/project/<project_id>/changelist/
```
</div>

### گزارش دیپلوی محصول در یک محیط
<div class="left-to-right">

```bash
wget
  --header "Content-Type: application/json"
  --header "NEMO-PROJECT-TOKEN: abcd"
  --post-data '{"commit_hash": "12a6675d5a9bc69e82f4f563651bedc40955c951", "status": "P or F"}'
  http://nemo/api/v1/devops-metrics/project/<project_id>/environment/<env_id>/deployment/
```
</div>

### گزارش میزان پوشش تست
<div class="left-to-right">

```bash
wget
  --header "Content-Type: application/json"
  --header "NEMO-PROJECT-TOKEN: abcd"
  --post-data '{"coverage_type": "OVR" or "INC", "value": 70}'
  http://nemo/api/v1/dashboard/project/<project_id>/coverage-report/
```
</div>

در دستور بالا، مقدار `OVR` برای ارسال درصد پوشش تست کل محصول است (Overall coverage) و مقدار `INC` برای درصد پوشش تست در تغییر اخیر مخزن کد می‌باشد (Incremental coverage).  
به عنوان مثال، پوشش تست کل یک محصول ممکن است ۶۰٪ باشد اما در یک تغییر کد از آن محصول، ۸۰٪ کدهای جدید تحت پوشش تست قرار گرفته باشند.  

## پنل مدیریت نمو
پنل مدیریت نمو از آدرس `http(s)://nemo/api/admin` قابل دسترسی است. در این پنل تقریباً همه‌ی داده‌های دیتابیس نمو قابل مشاهده و ویرایش است. فهرست مدل‌های مختلف دیتابیس در صفحه‌ی اصلی پنل مدیریت آمده‌اند. با کلیک بر روی هرکدام از آن‌ها، می‌توان فهرست کل داده‌های مربوط به آن مدل را مشاهده و نسبت به حذف و اضافه و ویرایش نمونه‌های آن اقدام کرد.  
برای احراز هویت و دسترسی به این پنل دو راه وجود دارد:  
1. در صورتی که حساب کاربری شما دسترسی مدیریتی داشته باشد، در صفحه‌ی اصلی نمو لاگین کرده و سپس به پنل مدیریت مراجعه نمایید.
2. در صورتی که حساب کاربری شما دسترسی مدیریتی نداشته باشد یا اصلاً در نمو لاگین نباشید، با مراجعه به پنل مدیریتی با صفحه‌ی ورود آن مواجه خواهید شد. در این صفحه می‌توانید با نام کاربری و پسورد مربوط به مدیر نمو وارد پنل شوید.

لازم به ذکر است، در حالت دوم تنها با کاربری که پسورد آن مستقیماً در داخل نمو تعریف شده است می‌توان لاگین کرد و برای کاربرهایی که توسط سیستم بیرونی (نظیر OpenId) احراز هویت می‌شوند باید از روش اول اقدام نمود. برای اعطای دسترسی مدیریتی به کاربران، به قسمت [تغییر دسترسی کاربران](#تغییر-دسترسی-کاربران) مراجعه کنید.  
در ادامه فعالیت‌هایی که فقط توسط پنل مدیریت نمو قابل انجام است شرح داده می‌شود. 

### ایجاد مدل بلوغ
برای تعریف یک مدل بلوغ کافی است یک نمونه از MaturityModel با ویژگی‌های مورد نظر ایجاد کنید. مدل بلوغ از یک یا چند _سطح_ تشکیل می‌شود که در هرکدام از آن‌ها می‌توان یک یا چند _آیتم کیفی_ تعریف کرد. هر آیتم کیفی، نحوه‌ی ارزیابی خود را نیز در خودش با عنوان Evaluation type تعریف می‌کند. برای این منظور، در قسمت Evaluation type برای هر آیتم باید از لیست مقابل آن یک گزینه انتخاب یا یک Evaluation type جدید ایجاد کرد.

#### ایجاد Evaluation type
همانطور که گفته شد، Evaluation type در‌واقع بیانگر نحوه‌ی ارزیابی یک آیتم مدل بلوغ است و برای ایجاد آن کافی است یک نمونه از EvaluationType در پنل مدیریت ایجاد کنید. در ادامه به فیلدهای مختلف Evaluation type پرداخته می‌شود.  

فیلد `Validity period days` تعداد روزهایی است که بعد از یک بار ارزیابی آیتم متناظر، نتیجه‌ی ارزیابی معتبر خواهد ماند.  

فیلد `Checking period days` تعداد روزهای اخیری است که هنگام ارزیابی آیتم متناظر باید ملاک ارزیابی قرار گیرد. (به عنوان مثال، اینکه محصول هرروز دیپلوی شده باشد، باید در ۳۰ روز اخیر صادق باشد تا آیتم رعایت شده باشد.)  

فیلد `Kind` نوع ارزیابی را مشخص می‌کند و می‌تواند یکی از موارد زیر باشد:  
- **Manual:** برای آیتم‌هایی از این نوع، نمو هیچ ارزیابی خودکاری ثبت نمی‌کند. برای ثبت ارزیابی در این حالت، می‌توان از روش عمومی که در قسمت [ثبت ارزیابی یک آیتم](#ثبت-ارزیابی-یک-آیتم) آمده است استفاده کرد.
- **Lead time:** برای آیتم‌هایی از این نوع، مقدار تعیین شده در آیتم (Expected value) به عنوان **حداکثر مقدار قابل قبول** در نظر گرفته شده و هنگام ارزیابی، با [Lead time](#lead-time) محصول مقایسه می‌شود.
- **Deployment frequency:** برای آیتم‌هایی از این نوع، مقدار تعیین شده در آیتم به عنوان **حداقل مقدار قابل قبول** برای **فاصله‌ی متوسط بین دو دیپلوی متوالی** در نظر گرفته شده و هنگام ارزیابی، با [Deployment frequency](#deployment-frequency) محصول مقایسه می‌شود.
- **Time to restore:** برای آیتم‌هایی از این نوع، مقدار تعیین شده در آیتم به عنوان **حداکثر مقدار قابل قبول** در نظر گرفته شده و هنگام ارزیابی، با [Time to restore](#time-to-restore) محصول مقایسه می‌شود.
- **Change failure rate:** برای آیتم‌هایی از این نوع، مقدار تعیین شده در آیتم به عنوان **حداکثر مقدار قابل قبول** در نظر گرفته شده و هنگام ارزیابی، با [Change failure rate](#change-failure-rate) محصول مقایسه می‌شود.
- **Commit stage test coverage:** برای آیتم‌هایی از این نوع، مقدار تعیین شده در آیتم به عنوان **حداقل مقدار قابل قبول** در نظر گرفته شده و هنگام ارزیابی، با درصد پوشش تست (Test Coverage) محصول مقایسه می‌شود.  
    نمو میزان پوشش تست محصول را می‌تواند از طریق ارتباط با Sonarqube به طور خودکار استعلام کند. نحوه‌ی تنظیم این ارتباط، در قسمت [ایجاد پروژه‌ی جدید](#ایجاد-پروژهی-جدید) آمده است. همچنین می‌توان این اطلاعات را با استفاده از [API نمو](#api-نمو) به آن ارسال کرد.
- **Commit stage incremental test coverage (on new code):** برای آیتم‌هایی از این نوع، مقدار تعیین شده در آیتم به عنوان **حداقل مقدار قابل قبول** در نظر گرفته شده و هنگام ارزیابی، با **متوسط درصد پوشش تست** روی **کدهای جدید** در **هر تغییر محصول** مقایسه می‌شود. (نحوه‌ی ارسال داده مشابه مورد قبل است.)
- **Is test coverage calculated:** برای آیتم‌هایی از این نوع، هنگام ارزیابی بررسی می‌شود که آیا مقدار پوشش تست اصلاً برای محصول وجود دارد (گزارش شده است) یا خیر. به عنوان مثال در صورتی که در بازه‌ی checking period هیچ داده‌ای در مورد پوشش تست یافت نشود، آیتم‌های از این نوع Fail در نظر گرفته خواهند شد.
- **Delegate the evaluation to the project “.nemo.yml” specification:** در این نوع از آیتم‌ها، نمو برای ارزیابی به مخزن کد محصول مراجعه کرده و فایلی با نام `nemo.yml.` را از فولدر اصلی (root مخزن) برداشته و اسکریپت معرفی شده در آن را برای آیتم مورد نظر اجرا می‌کند. اگر اسکریپت با موفقیت اجرا شود (exit code = 0) آیتم مربوطه Pass تلقی می‌شود و در غیر اینصورت Fail. با این کار عملاً ارزیابی آیتم مربوطه به خود تیم توسعه سپرده می‌شود.  

### ثبت ارزیابی یک آیتم
مستقل از نوع آیتم مورد ارزیابی، برای هر آیتم کیفی در نمو می‌توان گزارش ارزیابی ثبت کرد. برای ثبت ارزیابی کافی است یک نمونه از EvaluationReport با مشخصات مورد نیاز ایجاد کنید.  
البته قاعدتاً برای انواع غیر Manual آیتم‌های کیفی، این گزارش‌ها به صورت خودکار و دوره‌ای توسط نمو به طور منظم ثبت می‌شوند و نیازی به ثبت دستی آن‌ها نیست.  
همچنین در رابط کاربری نمو، در صفحه‌ی آیتم‌های از نوع Manual این امکان وجود دارد که درخواست ارزیابی دستی آن آیتم داده شود. با ثبت درخواست، یک ایمیل به اعضای کمیته‌ی کیفیت نمو ارسال می‌شود. همچنین فهرست درخواست‌ها در پنل مدیریت در قسمت مربوط به Evaluation requests آمده است. با مراجعه به هر نمونه از این فهرست، می‌توان جزئیات آن درخواست را مشاهده کرد.  

### پاسخ به درخواست ارزیابی
برای پاسخ به درخواست ارزیابی یک آیتم، کافی‌است طبق روال عادی ([ثبت ارزیابی یک آیتم](#ثبت-ارزیابی-یک-آیتم)) یک نمونه از EvaluationReport ایجاد کنید.

### پاسخ به درخواست فعال یا غیرفعال‌کردن یک آیتم
در رابط کاربری نمو، در صفحه‌ی هر آیتم این امکان وجود دارد که درخواست فعال/غیرفعال شدن آن آیتم داده شود. هنگام درخواست، یک ایمیل به اعضای کمیته‌ی کیفیت نمو ارسال می‌شود. همچنین فهرست درخواست‌ها در پنل مدیریت در قسمت مربوط به Maturity model item toggle requests آمده است. با مراجعه به هر نمونه از این فهرست، می‌توان جزئیات آن درخواست را مشاهده و نسبت به رد یا قبول آن اقدام کرد.
وقتی یک آیتم در یک پروژه غیرفعال باشد، هیچ ارزیابی‌ای برای آن صورت نمی‌گیرد و همچنین پاس نبودن آن آیتم هیچ تأثیر منفی‌ای در پایش وضعیت محصول نخواهد داشت. (به بیان دیگر، برای اینکه پروژه‌ای مثلاً سطح اول یک مدل بلوغ را کسب کند، تنها کافیست که همه‌ی آیتم‌های **فعال** آن سطح را رعایت کرده باشد.)

### ایجاد پروژه‌ی جدید
برای ایجاد پروژه‌ی جدید به ترتیب مراحل زیر را باید انجام داد:  
1. **ایجاد یک نمونه از مدل Project.** در این مدل ویژگی‌های عمومی یک پروژه (نظیر عنوان و ...) تعریف می‌شوند. همچنین در تعریف پروژه، مدل بلوغی که پروژه بر اساس آن پایش می‌شود مشخص می‌شود.
2. **ایجاد یک یا چند نمونه از مدل Environment مرتبط با پروژه.** هر Environment نماینده‌ی یک محیط استقرار برای محصول مورد نظر است. به عنوان مثال، یک محصول می‌تواند علاوه بر محیط پروداکشن، محیط‌های آزمایشی دیگری نیز داشته باشد.
3. **مراجعه مجدد به Project و تعیین Default environment.** هر پروژه باید یک محیط استقرار پیشفرض داشته باشد که مقادیر متریک‌ها و وضعیت کیفی محصول متناسب با آن محیط محاسبه و ارزیابی شود. پیشنهاد می‌شود محیط عملیاتی (پروداکشن) به عنوان محیط پیشفرض پروژه تعیین گردد.  

پس از انجام موارد بالا، در صورت نیاز می‌توان برای یکپارچگی نمو با سایر سرویس‌های مرتبط با محصول، گام‌های زیر را نیز انجام داد:
1. **تعریف مخزن گیت محصول.** با ایجاد یک نمونه از GitRepo می‌توان اطلاعات دسترسی به مخزن کد محصول را در نمو تعریف کرد.
    در صورتی که مدیریت مخزن کد توسط سرویس Gerrit انجام می‌شود، می‌توان با انتخاب `Gerrit` در `Git ecosystem` و تیک زدن گزینه‌ی `Changelist collection enabled`، این امکان را فعال کرد که نمو به طور خودکار کامیت‌های مرج‌شده در شاخه‌ی اصلی مخزن کد را رصد کرده و اطلاعات مربوط به آن‌ها و آیدی Changlist  متناظرشان را در خود ذخیره کند.  
    با توجه به اینکه در سایر ابزارهای مدیریت مخزن کد (نظیر گیت‌لب) امکان کشف Changelist (یا همان Pull Request) مربوطه از روی کامیت به طور مستقیم وجود ندارد، قابلیت Changelist collection فعلاً تنها برای Gerrit کار می‌کند.
2. **معرفی آدرس گیت‌لب مربوط به محصول.** در صورتی که مدیریت مخزن کد توسط Gitlab انجام می‌شود، می‌توان با ثبت آدرس و آیدی پروژه‌ي گیت‌لب در نمو این امکان را فراهم کرد که وقتی یک کامیت در شاخه‌ی اصلی به API نمو گزارش می‌شود، آیدی Merge Request متناظر آن کامیت توسط نمو کشف و در گزارشی که در نمو ثبت می‌شود آورده شود.  
    برای معرفی پروژه‌ی گیت‌لب در نمو کافی‌است یک نمونه از GitlabProject با مشخصات مربوطه ساخته شود.
3. **معرفی آدرس سونار مربوط به محصول.** با ایجاد یک نمونه از SonarProject می‌توان اطلاعات دسترسی به پروژه‌ی سونار مربوط به محصول را در نمو تعریف کرد. با این کار نمو به صورت خودکار اطلاعات مربوط به پوشش تست (Test Coverage) را به طور منظم از سونار دریافت می‌کند.  
    **نکته:** با توجه به اینکه نمو بروز شدن اطلاعات سونار را از روی ورژن (projectVersion) گزارش‌شده به سونار متوجه می‌شود، مطمئن شوید که گزارش‌های ارسالی به سونار نسخه‌ی یکتا دارند. به عنوان مثال می‌توان از Commit Hash مربوطه به عنوان ورژن در هنگام اسکن سونار استفاده کرد. در صورت ثابت ماندن ورژن در آنالیزهای متوالی سونار، حتی اگر اطلاعات سونار تغییر کند، نمو آن را ثبت نخواهد کرد.

### تغییر دسترسی کاربران
مدل User وظیفه‌ي ثبت کلیه‌ی اطلاعات مربوط به کاربران را دارد. دسترسی کاربران نیز از طریق صفحه‌ی مربوط به همین مدل قابل ویرایش است.  
در صفحه‌ی User قسمتی با نام Permission وجود دارد. در این قسمت با زدن دو تیک `Staff status` و `Superuser status` و ذخیره‌ی مدل، کاربر دسترسی مدیریتی نمو را کسب خواهد کرد.  
برای اعطای دسترسی «کمیته‌ی کیفیت» نیز کافی است از قسمت Groups گروه `Quality Committee` را برای کاربر انتخاب نمایید.
همچنین برای دسترسی کاربر به صورت عادی به هر پروژه، می‌توان گروه مربوطه را برای کاربر انتخاب کرد. مثلاً برای اعطای دسترسی «توسعه دهنده» در پروژه‌ی ABC می‌توان گروه زیر را برای کاربر مورد نظر انتخاب کرد:
```
ABC [Developers]
```
**نکته:** از اعطای دسترسی مستقیم به کاربر (از قسمت User permissions) خودداری کرده و تغییر دسترسی‌ها را صرفاً از طریق تغییر گروه (قسمت Group permissions) انجام دهید.  
برای اطلاعات بیشتر در مورد تفاوت دسترسی‌های نقش‌های مختلف، به قسمت [نقش‌های کاربری](#نقش‌های-کاربری) مراجعه نمایید.  

### گزارش‌های دسترسی
برای ثبت تعامل کاربران با نمو در حال حاضر از دو کتابخانه‌ی ساده استفاده شده که در پنل مدیریت با نام‌های `Hitcount` و `Request Profiler` قابل مشاهده‌اند.  
`Hitcount` یک شمارشگر ساده است که اطلاعات مربوط به مشاهده شدن هر پروژه را ذخیره می‌کند. تعداد ویزیت‌ها که در رابط کاربری نمو (پایین صفحه سمت چپ) نمایش داده می‌شود، با استفاده از این کتابخانه محاسبه می‌شود.  
`Request Profiler` نیز وظیفه‌ی رصد درخواست‌های ارسالی به API نمو را دارد و اگر درخواستی بیش از ۲ ثانیه به طول انجامد در قسمت Profiling records در پنل مدیریت ثبت شده و قابل مشاهده است.  


## روش محاسبه متریک‌های DevOps در نمو

تمام داده‌های مورد نیاز برای محاسبه مقدار متریک مورد نظر در یک روز، داخل بازه [checking period](#definition-checking-period) است و داده‌های خارج از آن بازه‌ی زمانی در محاسبات استفاده نمی‌شود.

### Change Failure Rate

**روش محاسبه:** نسبت تعداد deploymentهای ناموفق به تمام deploymentها.

**داده‌ها:** گزارش‌های deployment

### Lead Time

**روش محاسبه:** میانگین زمان مرج شدن [changelist](#definition-changelist)ها تا اولین deployment موفق آن‌ها.  

**داده‌ها:** گزارش‌های changelist و deployment

**نکته:** ممکن است اولین deployment موفق روی changelistهای بعدی باشد. در این صورت آن استقرار در حکم استقرار changelistهای قدیمی‌تر نیز می‌باشد.  
به عنوان مثال، اگر کامیت ۱ و ۲ ایجاد شود و سپس کامیت ۲ دیپلوی شود، گزارش دیپلوی برای هردو کامیت منظور خواهد شد.

### Time To Restore

**روش محاسبه:** میانگین زمان بازگشت سیستم از حالت down به up

**داده‌ها:** گزارش‌های [service status](#definition-service-status)

### Deployment Frequency

**روش محاسبه:** میانگین فاصله زمانی بین deploymentهای موفق

**داده‌ها:** گزارش‌های deployment


</p>